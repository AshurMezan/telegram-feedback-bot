## Telegram бот обратной связи

Бот на Node.js для пересылки сообщений от пользователей в админ‑чат и обратных ответов. Поддерживаются текст, фотографии и PDF. Есть чёрный список пользователей (блокировка/разблокировка).

### Технологии
- **Библиотека бота**: `grammy`
- **База данных**: `SQLite` (пакет `sqlite3`), файл `blacklist.sqlite`
- **Переменные окружения**: `dotenv`

### Переменные окружения
Создайте файл `.env` в корне проекта:
```
BOT_API_KEY=ВАШ_TELEGRAM_BOT_TOKEN
CHAT_ID=ID_АДМИН_ЧАТА
```

### Установка и запуск
```
npm install
npm start
```

### Команды бота (для админ‑чата)
- `/help` — показать доступные команды.
- `/get_id_chat` — вывести ID текущего чата.
- `/block <user_id>` — заблокировать пользователя (его сообщения больше не пересылаются).
- `/unblock <user_id>` — разблокировать пользователя.

### Команды бота (для пользователя)
- `/start` — приветствие.
- `/about` — краткая информация о боте.

### Поведение бота
- В личных чатах бот пересылает в админ‑чат:
  - текстовые сообщения,
  - фотографии (с подписью),
  - PDF‑документы (с подписью).
  К сообщению добавляется заголовок с именем и тег `#user{ID}`.
- В админ‑чате ответ на пересланное сообщение (Reply) отправляется пользователю, чей ID извлекается из заголовка/подписи.
- Сообщения от заблокированных пользователей игнорируются.

### Структура проекта
- `index.js` — точка входа; регистрация команд, обработчики сообщений (text/photo/document), логика пересылки и ответов, подключение меню.
- `commands.js` — обработчики команд (`start`, `about`, `help`, `get_id_chat`) и админ‑команд (`block`, `unblock`), хелпер `isUserBlocked`.
- `menu.js` — список команд для интерфейса Telegram (кнопка «Меню»).
- `db.js` — инициализация SQLite и таблицы `users` для чёрного списка.
- `backUp/` — резервные версии/черновики (не участвуют в работе бота).

### Таблицы БД
- `users(user_id INTEGER PRIMARY KEY UNIQUE)` — идентификаторы заблокированных пользователей.

### Примечания
- Блокировка распространяется на текст/фото/PDF и прочие сообщения из личных чатов.
- Для корректной работы убедитесь, что бот добавлен в админ‑чат, а `CHAT_ID` соответствует именно этому чату.


